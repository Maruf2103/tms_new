{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Subscription Details</h3>
    </div>
    <div class="card-body">
      <dl class="row">
        <dt class="col-sm-3">Subscription ID</dt>
        <dd class="col-sm-9">{{ subscription.subscription_id }}</dd>

        <dt class="col-sm-3">Bus</dt>
        <dd class="col-sm-9">{{ subscription.schedule.bus.bus_number }} - {{ subscription.schedule.bus.bus_name }}</dd>

        <dt class="col-sm-3">Route</dt>
        <dd class="col-sm-9">{{ subscription.schedule.route.start_point }} â†’ {{ subscription.schedule.route.end_point }}</dd>

        <dt class="col-sm-3">Period</dt>
        <dd class="col-sm-9">{{ subscription.start_date }} to {{ subscription.end_date }}</dd>

        <dt class="col-sm-3">Seats per Trip</dt>
        <dd class="col-sm-9">{{ subscription.passengers }}</dd>

        <dt class="col-sm-3">Monthly Amount</dt>
        <dd class="col-sm-9">${{ subscription.monthly_amount }}</dd>

        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">{{ subscription.payment_status }} {% if not subscription.is_active %}(Inactive){% endif %}</dd>
      </dl>

      <div class="mt-3">
        {% if subscription.is_active %}
          <a href="{% url 'cancel_subscription' subscription.subscription_id %}" class="btn btn-danger" onclick="return confirm('Cancel this subscription?');">Cancel Subscription</a>
        {% endif %}
        <a href="{% url 'dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
